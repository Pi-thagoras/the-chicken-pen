/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// main.ts
__export(exports, {
  default: () => NovelWordCountPlugin
});

// logic/debug.ts
var DebugHelper = class {
  constructor() {
    this.debugMode = false;
  }
  setDebugMode(debug) {
    this.debugMode = debug;
  }
  debug(...args) {
    if (!this.debugMode) {
      return;
    }
    console.log("novel-word-count:", ...args);
  }
  error(message) {
    if (!this.debugMode) {
      return;
    }
    console.error(message);
  }
  debugStart(name) {
    if (!this.debugMode) {
      return () => {
      };
    }
    var qualifiedName = `novel-word-count|${name}`;
    console.time(qualifiedName);
    return () => console.timeEnd(qualifiedName);
  }
};

// logic/file.ts
var import_obsidian = __toModule(require("obsidian"));

// logic/settings.ts
var CountType;
(function(CountType2) {
  CountType2["None"] = "none";
  CountType2["Word"] = "word";
  CountType2["Page"] = "page";
  CountType2["PageDecimal"] = "pagedecimal";
  CountType2["Note"] = "note";
  CountType2["Character"] = "character";
  CountType2["Created"] = "created";
  CountType2["Modified"] = "modified";
})(CountType || (CountType = {}));
var countTypeDisplayStrings = {
  [CountType.None]: "None",
  [CountType.Word]: "Word Count",
  [CountType.Page]: "Page Count",
  [CountType.PageDecimal]: "Page Count (decimal)",
  [CountType.Note]: "Note Count",
  [CountType.Character]: "Character Count",
  [CountType.Created]: "Created Date",
  [CountType.Modified]: "Last Updated Date"
};
var countTypes = [
  CountType.None,
  CountType.Word,
  CountType.Page,
  CountType.PageDecimal,
  CountType.Note,
  CountType.Character,
  CountType.Created,
  CountType.Modified
];
var AlignmentType;
(function(AlignmentType2) {
  AlignmentType2["Inline"] = "inline";
  AlignmentType2["Right"] = "right";
  AlignmentType2["Below"] = "below";
})(AlignmentType || (AlignmentType = {}));
var alignmentTypes = [
  AlignmentType.Inline,
  AlignmentType.Right,
  AlignmentType.Below
];
var WordCountType;
(function(WordCountType2) {
  WordCountType2["SpaceDelimited"] = "SpaceDelimited";
  WordCountType2["CJK"] = "CJK";
  WordCountType2["AutoDetect"] = "AutoDetect";
})(WordCountType || (WordCountType = {}));
var PageCountType;
(function(PageCountType2) {
  PageCountType2["ByWords"] = "ByWords";
  PageCountType2["ByChars"] = "ByChars";
})(PageCountType || (PageCountType = {}));
var DEFAULT_SETTINGS = {
  countType: CountType.Word,
  countType2: CountType.None,
  countType3: CountType.None,
  showSameCountsOnFolders: true,
  folderCountType: CountType.Word,
  folderCountType2: CountType.None,
  folderCountType3: CountType.None,
  abbreviateDescriptions: false,
  alignment: AlignmentType.Inline,
  debugMode: false,
  wordsPerPage: 300,
  charsPerPage: 1500,
  wordCountType: WordCountType.SpaceDelimited,
  pageCountType: PageCountType.ByWords
};

// logic/file.ts
var FileHelper = class {
  constructor(vault, plugin) {
    this.vault = vault;
    this.plugin = plugin;
    this.debugHelper = new DebugHelper();
    this.cjkRegex = /\p{Script=Han}|\p{Script=Hiragana}|\p{Script=Katakana}|\p{Script=Hangul}|[0-9]+/ug;
  }
  get settings() {
    return this.plugin.settings;
  }
  getAllFileCounts(wordCountType) {
    return __async(this, null, function* () {
      const debugEnd = this.debugHelper.debugStart("getAllFileCounts");
      const files = this.vault.getMarkdownFiles();
      const counts = {};
      for (const file of files) {
        const contents = yield this.vault.cachedRead(file);
        this.setCounts(counts, file, contents, wordCountType);
      }
      debugEnd();
      return counts;
    });
  }
  getCountDataForPath(counts, path) {
    if (counts.hasOwnProperty(path)) {
      return counts[path];
    }
    const childPaths = Object.keys(counts).filter((countPath) => path === "/" || countPath.startsWith(path + "/"));
    return childPaths.reduce((total, childPath) => {
      const childCount = this.getCountDataForPath(counts, childPath);
      total.isDirectory = true;
      total.noteCount += childCount.noteCount;
      total.wordCount += childCount.wordCount;
      total.pageCount += childCount.pageCount;
      total.characterCount += childCount.characterCount;
      total.nonWhitespaceCharacterCount += childCount.nonWhitespaceCharacterCount;
      total.createdDate = total.createdDate === 0 ? childCount.createdDate : Math.min(total.createdDate, childCount.createdDate);
      total.modifiedDate = Math.max(total.modifiedDate, childCount.modifiedDate);
      return total;
    }, {
      isDirectory: true,
      noteCount: 0,
      wordCount: 0,
      pageCount: 0,
      characterCount: 0,
      nonWhitespaceCharacterCount: 0,
      createdDate: 0,
      modifiedDate: 0
    });
  }
  setDebugMode(debug) {
    this.debugHelper.setDebugMode(debug);
  }
  updateFileCounts(abstractFile, counts, wordCountType) {
    return __async(this, null, function* () {
      if (abstractFile instanceof import_obsidian.TFolder) {
        this.debugHelper.debug("updateFileCounts called on instance of TFolder");
        Object.assign(counts, this.getAllFileCounts(wordCountType));
        return;
      }
      if (abstractFile instanceof import_obsidian.TFile) {
        const contents = yield this.vault.cachedRead(abstractFile);
        this.setCounts(counts, abstractFile, contents, wordCountType);
      }
    });
  }
  countWords(content, wordCountType) {
    switch (wordCountType) {
      case WordCountType.CJK:
        return (content.match(this.cjkRegex) || []).length;
      case WordCountType.AutoDetect:
        const cjkLength = (content.match(this.cjkRegex) || []).length;
        const spaceDelimitedLength = (content.match(/[^\s]+/g) || []).length;
        return Math.max(cjkLength, spaceDelimitedLength);
      case WordCountType.SpaceDelimited:
      default:
        return (content.match(/[^\s]+/g) || []).length;
    }
  }
  countNonWhitespaceCharacters(content) {
    return (content.replace(/\s+/g, "") || []).length;
  }
  setCounts(counts, file, content, wordCountType) {
    const wordCount = this.countWords(content, wordCountType);
    const nonWhitespaceCharacterCount = this.countNonWhitespaceCharacters(content);
    let pageCount = 0;
    if (this.settings.pageCountType === PageCountType.ByWords) {
      const wordsPerPage = Number(this.settings.wordsPerPage);
      const wordsPerPageValid = !isNaN(wordsPerPage) && wordsPerPage > 0;
      pageCount = wordCount / (wordsPerPageValid ? wordsPerPage : 300);
    } else if (this.settings.pageCountType === PageCountType.ByChars) {
      const charsPerPage = Number(this.settings.charsPerPage);
      const charsPerPageValid = !isNaN(charsPerPage) && charsPerPage > 0;
      pageCount = nonWhitespaceCharacterCount / (charsPerPageValid ? charsPerPage : 1500);
    }
    counts[file.path] = {
      isDirectory: false,
      noteCount: 1,
      wordCount,
      pageCount,
      characterCount: content.length,
      nonWhitespaceCharacterCount,
      createdDate: file.stat.ctime,
      modifiedDate: file.stat.mtime
    };
  }
};

// main.ts
var import_obsidian2 = __toModule(require("obsidian"));
var NovelWordCountPlugin = class extends import_obsidian2.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.debugHelper = new DebugHelper();
    this.fileHelper = new FileHelper(this.app.vault, this);
  }
  get settings() {
    return this.savedData.settings;
  }
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.fileHelper.setDebugMode(this.savedData.settings.debugMode);
      this.debugHelper.setDebugMode(this.savedData.settings.debugMode);
      this.debugHelper.debug("onload lifecycle hook");
      this.addSettingTab(new NovelWordCountSettingTab(this.app, this));
      this.addCommand({
        id: "recount-vault",
        name: "Reanalyze (recount) all documents in vault",
        callback: () => __async(this, null, function* () {
          this.debugHelper.debug("[Reanalyze] command triggered");
          yield this.initialize();
        })
      });
      this.addCommand({
        id: "cycle-count-type",
        name: "Show next data type (1st position)",
        callback: () => __async(this, null, function* () {
          this.debugHelper.debug("[Cycle next data type] command triggered");
          this.settings.countType = countTypes[(countTypes.indexOf(this.settings.countType) + 1) % countTypes.length];
          yield this.saveSettings();
          this.updateDisplayedCounts();
        })
      });
      this.addCommand({
        id: "toggle-abbreviate",
        name: "Toggle abbreviation",
        callback: () => __async(this, null, function* () {
          this.debugHelper.debug("[Toggle abbrevation] command triggered");
          this.settings.abbreviateDescriptions = !this.settings.abbreviateDescriptions;
          yield this.saveSettings();
          this.updateDisplayedCounts();
        })
      });
      for (const countType of countTypes) {
        this.addCommand({
          id: `set-count-type-${countType}`,
          name: `Show ${countTypeDisplayStrings[countType]} (1st position)`,
          callback: () => __async(this, null, function* () {
            this.debugHelper.debug(`[Set count type to ${countType}] command triggered`);
            this.settings.countType = countType;
            yield this.saveSettings();
            this.updateDisplayedCounts();
          })
        });
      }
      this.handleEvents();
      this.initialize();
    });
  }
  onunload() {
    return __async(this, null, function* () {
      this.saveSettings();
    });
  }
  loadSettings() {
    return __async(this, null, function* () {
      const loaded = yield this.loadData();
      if (loaded && loaded.settings && loaded.settings.countType && !countTypes.includes(loaded.settings.countType)) {
        loaded.settings.countType = CountType.Word;
      }
      this.savedData = Object.assign({}, loaded);
      this.savedData.settings = Object.assign({}, DEFAULT_SETTINGS, this.savedData.settings);
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.savedData);
    });
  }
  initialize(refreshAllCounts = true) {
    return __async(this, null, function* () {
      this.debugHelper.debug("initialize");
      if (refreshAllCounts) {
        yield this.refreshAllCounts();
      }
      try {
        yield this.updateDisplayedCounts();
      } catch (err) {
        this.debugHelper.debug("Error while updating displayed counts");
        this.debugHelper.error(err);
        setTimeout(() => {
          this.initialize(false);
        }, 1e3);
      }
    });
  }
  updateDisplayedCounts(file = null) {
    return __async(this, null, function* () {
      var _a;
      const debugEnd = this.debugHelper.debugStart("updateDisplayedCounts");
      if (!Object.keys(this.savedData.cachedCounts).length) {
        this.debugHelper.debug("No cached data found; refreshing all counts.");
        yield this.refreshAllCounts();
      }
      const fileExplorerLeaf = yield this.getFileExplorerLeaf();
      this.setContainerClass(fileExplorerLeaf);
      const fileItems = fileExplorerLeaf.view.fileItems;
      if (file) {
        const relevantItems = Object.keys(fileItems).filter((path) => file.path.includes(path));
        this.debugHelper.debug("Setting display counts for", relevantItems.length, "fileItems matching path", file.path);
      } else {
        this.debugHelper.debug(`Setting display counts for ${Object.keys(fileItems).length} fileItems`);
      }
      for (const path in fileItems) {
        if (file && !file.path.includes(path)) {
          continue;
        }
        const counts = this.fileHelper.getCountDataForPath(this.savedData.cachedCounts, path);
        const item = fileItems[path];
        ((_a = item.titleEl) != null ? _a : item.selfEl).setAttribute("data-novel-word-count-plugin", this.getNodeLabel(counts));
      }
      debugEnd();
    });
  }
  getFileExplorerLeaf() {
    return __async(this, null, function* () {
      return new Promise((resolve, reject) => {
        let foundLeaf = null;
        this.app.workspace.iterateAllLeaves((leaf) => {
          if (foundLeaf) {
            return;
          }
          const view = leaf.view;
          if (!view || !view.fileItems) {
            return;
          }
          foundLeaf = leaf;
          resolve(foundLeaf);
        });
        if (!foundLeaf) {
          reject(Error("Could not find file explorer leaf."));
        }
      });
    });
  }
  getDataTypeLabel(counts, countType, abbreviateDescriptions) {
    if (!counts || typeof counts.wordCount !== "number") {
      return "";
    }
    const getPluralizedCount = function(noun, count, round = true) {
      const roundedCount = round ? Math.ceil(count) : count;
      const displayCount = round ? roundedCount.toLocaleString() : roundedCount.toLocaleString(void 0, {
        minimumFractionDigits: 1,
        maximumFractionDigits: 2
      });
      return `${displayCount} ${noun}${roundedCount == 1 ? "" : "s"}`;
    };
    switch (countType) {
      case CountType.None:
        return "";
      case CountType.Word:
        return abbreviateDescriptions ? `${Math.ceil(counts.wordCount).toLocaleString()}w` : getPluralizedCount("word", counts.wordCount);
      case CountType.Page:
        return abbreviateDescriptions ? `${Math.ceil(counts.pageCount).toLocaleString()}p` : getPluralizedCount("page", counts.pageCount);
      case CountType.PageDecimal:
        return abbreviateDescriptions ? `${counts.pageCount.toLocaleString(void 0, {
          minimumFractionDigits: 1,
          maximumFractionDigits: 2
        })}p` : getPluralizedCount("page", counts.pageCount, false);
      case CountType.Note:
        return abbreviateDescriptions ? `${counts.noteCount.toLocaleString()}n` : getPluralizedCount("note", counts.noteCount);
      case CountType.Character:
        return abbreviateDescriptions ? `${counts.characterCount.toLocaleString()}ch` : getPluralizedCount("character", counts.characterCount);
      case CountType.Created:
        if (counts.createdDate === 0) {
          return "";
        }
        return abbreviateDescriptions ? `${new Date(counts.createdDate).toLocaleDateString()}/c` : `Created ${new Date(counts.createdDate).toLocaleDateString()}`;
      case CountType.Modified:
        if (counts.modifiedDate === 0) {
          return "";
        }
        return abbreviateDescriptions ? `${new Date(counts.modifiedDate).toLocaleDateString()}/u` : `Updated ${new Date(counts.modifiedDate).toLocaleDateString()}`;
    }
    return "";
  }
  getNodeLabel(counts) {
    const countTypes2 = counts.isDirectory && !this.settings.showSameCountsOnFolders ? [this.settings.folderCountType, this.settings.folderCountType2, this.settings.folderCountType3] : [this.settings.countType, this.settings.countType2, this.settings.countType3];
    return countTypes2.filter((ct) => ct !== CountType.None).map((ct) => this.getDataTypeLabel(counts, ct, this.settings.abbreviateDescriptions)).filter((display) => display !== null).join(" | ");
  }
  handleEvents() {
    return __async(this, null, function* () {
      this.registerEvent(this.app.vault.on("modify", (file) => __async(this, null, function* () {
        this.debugHelper.debug("[modify] vault hook fired, recounting file", file.path);
        yield this.fileHelper.updateFileCounts(file, this.savedData.cachedCounts, this.settings.wordCountType);
        yield this.updateDisplayedCounts(file);
      })));
      const recalculateAll = (hookName, file) => __async(this, null, function* () {
        if (file) {
          this.debugHelper.debug(`[${hookName}] vault hook fired by file`, file.path, "recounting all files");
        } else {
          this.debugHelper.debug(`[${hookName}] hook fired`, "recounting all files");
        }
        yield this.refreshAllCounts();
        yield this.updateDisplayedCounts();
      });
      this.registerEvent(this.app.vault.on("rename", (0, import_obsidian2.debounce)(recalculateAll.bind(this, "rename"), 1e3)));
      this.registerEvent(this.app.vault.on("create", (0, import_obsidian2.debounce)(recalculateAll.bind(this, "create"), 1e3)));
      this.registerEvent(this.app.vault.on("delete", (0, import_obsidian2.debounce)(recalculateAll.bind(this, "delete"), 1e3)));
      const reshowCountsIfNeeded = (hookName) => __async(this, null, function* () {
        this.debugHelper.debug(`[${hookName}] hook fired`);
        const fileExplorerLeaf = yield this.getFileExplorerLeaf();
        if (this.isContainerTouched(fileExplorerLeaf)) {
          this.debugHelper.debug("container already touched, skipping display update");
          return;
        }
        this.debugHelper.debug("container is clean, updating display");
        yield this.updateDisplayedCounts();
      });
      this.registerEvent(this.app.workspace.on("layout-change", (0, import_obsidian2.debounce)(reshowCountsIfNeeded.bind(this, "layout-change"), 1e3)));
    });
  }
  isContainerTouched(leaf) {
    const container = leaf.view.containerEl;
    return container.className.includes("novel-word-count--");
  }
  refreshAllCounts() {
    return __async(this, null, function* () {
      this.debugHelper.debug("refreshAllCounts");
      this.savedData.cachedCounts = yield this.fileHelper.getAllFileCounts(this.settings.wordCountType);
      yield this.saveSettings();
    });
  }
  setContainerClass(leaf) {
    const container = leaf.view.containerEl;
    const prefix = `novel-word-count--`;
    const alignmentClasses = alignmentTypes.map((at) => prefix + at);
    for (const ac of alignmentClasses) {
      container.toggleClass(ac, false);
    }
    container.toggleClass(prefix + this.settings.alignment, true);
  }
};
var NovelWordCountSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    const mainHeader = containerEl.createEl("div", {
      cls: [
        "setting-item",
        "setting-item-heading",
        "novel-word-count-settings-header"
      ]
    });
    mainHeader.createEl("div", { text: "Notes" });
    mainHeader.createEl("div", {
      text: "You can display up to three data types side by side.",
      cls: "setting-item-description"
    });
    new import_obsidian2.Setting(containerEl).setName("1st data type to show").setDesc("Ex: 10,000 words").addDropdown((drop) => {
      for (const countType of countTypes) {
        drop.addOption(countType, countTypeDisplayStrings[countType]);
      }
      drop.setValue(this.plugin.settings.countType).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.countType = value;
        yield this.plugin.saveSettings();
        yield this.plugin.updateDisplayedCounts();
      }));
    });
    new import_obsidian2.Setting(containerEl).setName("2nd data type to show").setDesc("Ex: 10,000 words | 33 pages").addDropdown((drop) => {
      for (const countType of countTypes) {
        drop.addOption(countType, countTypeDisplayStrings[countType]);
      }
      drop.setValue(this.plugin.settings.countType2).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.countType2 = value;
        yield this.plugin.saveSettings();
        yield this.plugin.updateDisplayedCounts();
      }));
    });
    new import_obsidian2.Setting(containerEl).setName("3rd data type to show").setDesc("Ex: 10,000 words | 33 pages | Created 10/27/2022").addDropdown((drop) => {
      for (const countType of countTypes) {
        drop.addOption(countType, countTypeDisplayStrings[countType]);
      }
      drop.setValue(this.plugin.settings.countType3).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.countType3 = value;
        yield this.plugin.saveSettings();
        yield this.plugin.updateDisplayedCounts();
      }));
    });
    new import_obsidian2.Setting(containerEl).setName("Abbreviate descriptions").setDesc("E.g. show '120w' instead of '120 words'").addToggle((toggle) => toggle.setValue(this.plugin.settings.abbreviateDescriptions).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.abbreviateDescriptions = value;
      yield this.plugin.saveSettings();
      yield this.plugin.updateDisplayedCounts();
    })));
    new import_obsidian2.Setting(containerEl).setName("Alignment").setDesc("Show data inline with file/folder names, right-aligned, or underneath").addDropdown((drop) => {
      drop.addOption(AlignmentType.Inline, "Inline").addOption(AlignmentType.Right, "Right-aligned").addOption(AlignmentType.Below, "Below").setValue(this.plugin.settings.alignment).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.alignment = value;
        yield this.plugin.saveSettings();
        yield this.plugin.updateDisplayedCounts();
      }));
    });
    containerEl.createEl("div", { text: "Folders" }).addClasses(["setting-item", "setting-item-heading"]);
    new import_obsidian2.Setting(containerEl).setName("Show same data on folders").addToggle((toggle) => toggle.setValue(this.plugin.settings.showSameCountsOnFolders).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.showSameCountsOnFolders = value;
      yield this.plugin.saveSettings();
      yield this.plugin.updateDisplayedCounts();
      this.display();
    })));
    if (!this.plugin.settings.showSameCountsOnFolders) {
      new import_obsidian2.Setting(containerEl).setName("1st data type to show").addDropdown((drop) => {
        for (const countType of countTypes) {
          drop.addOption(countType, countTypeDisplayStrings[countType]);
        }
        drop.setValue(this.plugin.settings.folderCountType).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.folderCountType = value;
          yield this.plugin.saveSettings();
          yield this.plugin.updateDisplayedCounts();
        }));
      });
      new import_obsidian2.Setting(containerEl).setName("2nd data type to show").addDropdown((drop) => {
        for (const countType of countTypes) {
          drop.addOption(countType, countTypeDisplayStrings[countType]);
        }
        drop.setValue(this.plugin.settings.folderCountType2).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.folderCountType2 = value;
          yield this.plugin.saveSettings();
          yield this.plugin.updateDisplayedCounts();
        }));
      });
      new import_obsidian2.Setting(containerEl).setName("3rd data type to show").addDropdown((drop) => {
        for (const countType of countTypes) {
          drop.addOption(countType, countTypeDisplayStrings[countType]);
        }
        drop.setValue(this.plugin.settings.folderCountType3).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.folderCountType3 = value;
          yield this.plugin.saveSettings();
          yield this.plugin.updateDisplayedCounts();
        }));
      });
    }
    containerEl.createEl("div", { text: "Advanced" }).addClasses(["setting-item", "setting-item-heading"]);
    new import_obsidian2.Setting(containerEl).setName("Word count method").setDesc("For language compatibility").addDropdown((drop) => {
      drop.addOption(WordCountType.SpaceDelimited, "Space-delimited (European languages)").addOption(WordCountType.CJK, "Han/Kana/Hangul (CJK)").addOption(WordCountType.AutoDetect, "Auto-detect by file").setValue(this.plugin.settings.wordCountType).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.wordCountType = value;
        yield this.plugin.saveSettings();
        yield this.plugin.initialize();
      }));
    });
    new import_obsidian2.Setting(containerEl).setName("Page count method").setDesc("For language compatibility").addDropdown((drop) => {
      drop.addOption(PageCountType.ByWords, "Words per page").addOption(PageCountType.ByChars, "Characters per page").setValue(this.plugin.settings.pageCountType).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.pageCountType = value;
        yield this.plugin.saveSettings();
        yield this.plugin.updateDisplayedCounts();
        this.display();
      }));
    });
    if (this.plugin.settings.pageCountType === PageCountType.ByWords) {
      const wordsPerPageChanged = (txt, value) => __async(this, null, function* () {
        const asNumber = Number(value);
        const isValid = !isNaN(asNumber) && asNumber > 0;
        txt.inputEl.style.borderColor = isValid ? null : "red";
        this.plugin.settings.wordsPerPage = isValid ? Number(value) : 300;
        yield this.plugin.saveSettings();
        yield this.plugin.initialize();
      });
      new import_obsidian2.Setting(containerEl).setName("Words per page").setDesc("Used for page count. 300 is standard in English language publishing.").addText((txt) => {
        txt.setPlaceholder("300").setValue(this.plugin.settings.wordsPerPage.toString()).onChange((0, import_obsidian2.debounce)(wordsPerPageChanged.bind(this, txt), 1e3));
      });
    }
    if (this.plugin.settings.pageCountType === PageCountType.ByChars) {
      const charsPerPageChanged = (txt, value) => __async(this, null, function* () {
        const asNumber = Number(value);
        const isValid = !isNaN(asNumber) && asNumber > 0;
        txt.inputEl.style.borderColor = isValid ? null : "red";
        this.plugin.settings.charsPerPage = isValid ? Number(value) : 1500;
        yield this.plugin.saveSettings();
        yield this.plugin.initialize();
      });
      new import_obsidian2.Setting(containerEl).setName("Characters per page (not counting whitespace)").setDesc("Used for page count. 1500 is common in German (Normseite).").addText((txt) => {
        txt.setPlaceholder("1500").setValue(this.plugin.settings.charsPerPage.toString()).onChange((0, import_obsidian2.debounce)(charsPerPageChanged.bind(this, txt), 1e3));
      });
    }
    new import_obsidian2.Setting(containerEl).setName("Reanalyze all documents").setDesc("If changes have occurred outside of Obsidian, you may need to trigger a manual analysis").addButton((button) => button.setButtonText("Reanalyze").setCta().onClick(() => __async(this, null, function* () {
      button.disabled = true;
      yield this.plugin.initialize();
      button.setButtonText("Done");
      button.removeCta();
      setTimeout(() => {
        button.setButtonText("Reanalyze");
        button.setCta();
        button.disabled = false;
      }, 1e3);
    })));
    new import_obsidian2.Setting(containerEl).setName("Debug mode").setDesc("Log debugging information to the developer console").addToggle((toggle) => toggle.setValue(this.plugin.settings.debugMode).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.debugMode = value;
      this.plugin.debugHelper.setDebugMode(value);
      this.plugin.fileHelper.setDebugMode(value);
      yield this.plugin.saveSettings();
    })));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJsb2dpYy9kZWJ1Zy50cyIsICJsb2dpYy9maWxlLnRzIiwgImxvZ2ljL3NldHRpbmdzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBEZWJ1Z0hlbHBlciB9IGZyb20gXCJsb2dpYy9kZWJ1Z1wiO1xyXG5pbXBvcnQgeyBDb3VudERhdGEsIENvdW50c0J5RmlsZSwgRmlsZUhlbHBlciB9IGZyb20gXCJsb2dpYy9maWxlXCI7XHJcbmltcG9ydCB7XHJcblx0QWxpZ25tZW50VHlwZSxcclxuXHRhbGlnbm1lbnRUeXBlcyxcclxuXHRDb3VudFR5cGUsXHJcblx0Y291bnRUeXBlRGlzcGxheVN0cmluZ3MsXHJcblx0Y291bnRUeXBlcyxcclxuXHRERUZBVUxUX1NFVFRJTkdTLFxyXG5cdE5vdmVsV29yZENvdW50U2V0dGluZ3MsXHJcblx0UGFnZUNvdW50VHlwZSxcclxuXHRXb3JkQ291bnRUeXBlLFxyXG59IGZyb20gXCJsb2dpYy9zZXR0aW5nc1wiO1xyXG5pbXBvcnQge1xyXG5cdEFwcCxcclxuXHRQbHVnaW4sXHJcblx0UGx1Z2luU2V0dGluZ1RhYixcclxuXHRTZXR0aW5nLFxyXG5cdFBsdWdpbk1hbmlmZXN0LFxyXG5cdFdvcmtzcGFjZUxlYWYsXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRkZWJvdW5jZSxcclxuXHRUZXh0Q29tcG9uZW50LFxyXG59IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuaW50ZXJmYWNlIE5vdmVsV29yZENvdW50U2F2ZWREYXRhIHtcclxuXHRjYWNoZWRDb3VudHM6IENvdW50c0J5RmlsZTtcclxuXHRzZXR0aW5nczogTm92ZWxXb3JkQ291bnRTZXR0aW5ncztcclxufVxyXG5cclxuaW50ZXJmYWNlIEZpbGVJdGVtIHtcclxuXHR0aXRsZUVsPzogSFRNTEVsZW1lbnQ7XHJcblx0c2VsZkVsOiBIVE1MRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm92ZWxXb3JkQ291bnRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNhdmVkRGF0YTogTm92ZWxXb3JkQ291bnRTYXZlZERhdGE7XHJcblx0Z2V0IHNldHRpbmdzKCk6IE5vdmVsV29yZENvdW50U2V0dGluZ3Mge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2F2ZWREYXRhLnNldHRpbmdzO1xyXG5cdH1cclxuXHRmaWxlSGVscGVyOiBGaWxlSGVscGVyO1xyXG5cdGRlYnVnSGVscGVyID0gbmV3IERlYnVnSGVscGVyKCk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBtYW5pZmVzdDogUGx1Z2luTWFuaWZlc3QpIHtcclxuXHRcdHN1cGVyKGFwcCwgbWFuaWZlc3QpO1xyXG5cdFx0dGhpcy5maWxlSGVscGVyID0gbmV3IEZpbGVIZWxwZXIodGhpcy5hcHAudmF1bHQsIHRoaXMpO1xyXG5cdH1cclxuXHJcblx0Ly8gTElGRUNZQ0xFXHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0dGhpcy5maWxlSGVscGVyLnNldERlYnVnTW9kZSh0aGlzLnNhdmVkRGF0YS5zZXR0aW5ncy5kZWJ1Z01vZGUpO1xyXG5cdFx0dGhpcy5kZWJ1Z0hlbHBlci5zZXREZWJ1Z01vZGUodGhpcy5zYXZlZERhdGEuc2V0dGluZ3MuZGVidWdNb2RlKTtcclxuXHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXCJvbmxvYWQgbGlmZWN5Y2xlIGhvb2tcIik7XHJcblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBOb3ZlbFdvcmRDb3VudFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJyZWNvdW50LXZhdWx0XCIsXHJcblx0XHRcdG5hbWU6IFwiUmVhbmFseXplIChyZWNvdW50KSBhbGwgZG9jdW1lbnRzIGluIHZhdWx0XCIsXHJcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5kZWJ1Z0hlbHBlci5kZWJ1ZyhcIltSZWFuYWx5emVdIGNvbW1hbmQgdHJpZ2dlcmVkXCIpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG5cdFx0XHR9LFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6IFwiY3ljbGUtY291bnQtdHlwZVwiLFxyXG5cdFx0XHRuYW1lOiBcIlNob3cgbmV4dCBkYXRhIHR5cGUgKDFzdCBwb3NpdGlvbilcIixcclxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFwiW0N5Y2xlIG5leHQgZGF0YSB0eXBlXSBjb21tYW5kIHRyaWdnZXJlZFwiKTtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmNvdW50VHlwZSA9XHJcblx0XHRcdFx0XHRjb3VudFR5cGVzW1xyXG5cdFx0XHRcdFx0XHQoY291bnRUeXBlcy5pbmRleE9mKHRoaXMuc2V0dGluZ3MuY291bnRUeXBlKSArIDEpICVcclxuXHRcdFx0XHRcdFx0XHRjb3VudFR5cGVzLmxlbmd0aFxyXG5cdFx0XHRcdFx0XTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJ0b2dnbGUtYWJicmV2aWF0ZVwiLFxyXG5cdFx0XHRuYW1lOiBcIlRvZ2dsZSBhYmJyZXZpYXRpb25cIixcclxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFwiW1RvZ2dsZSBhYmJyZXZhdGlvbl0gY29tbWFuZCB0cmlnZ2VyZWRcIik7XHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5hYmJyZXZpYXRlRGVzY3JpcHRpb25zID1cclxuXHRcdFx0XHRcdCF0aGlzLnNldHRpbmdzLmFiYnJldmlhdGVEZXNjcmlwdGlvbnM7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xyXG5cdFx0XHR9LFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBjb3VudFR5cGUgb2YgY291bnRUeXBlcykge1xyXG5cdFx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRcdGlkOiBgc2V0LWNvdW50LXR5cGUtJHtjb3VudFR5cGV9YCxcclxuXHRcdFx0XHRuYW1lOiBgU2hvdyAke2NvdW50VHlwZURpc3BsYXlTdHJpbmdzW2NvdW50VHlwZV19ICgxc3QgcG9zaXRpb24pYCxcclxuXHRcdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5kZWJ1Z0hlbHBlci5kZWJ1ZyhcclxuXHRcdFx0XHRcdFx0YFtTZXQgY291bnQgdHlwZSB0byAke2NvdW50VHlwZX1dIGNvbW1hbmQgdHJpZ2dlcmVkYFxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuY291bnRUeXBlID0gY291bnRUeXBlO1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdHRoaXMudXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5oYW5kbGVFdmVudHMoKTtcclxuXHRcdHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb251bmxvYWQoKSB7XHJcblx0XHR0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdH1cclxuXHJcblx0Ly8gU0VUVElOR1NcclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0Y29uc3QgbG9hZGVkOiBOb3ZlbFdvcmRDb3VudFNhdmVkRGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdGxvYWRlZCAmJlxyXG5cdFx0XHRsb2FkZWQuc2V0dGluZ3MgJiZcclxuXHRcdFx0bG9hZGVkLnNldHRpbmdzLmNvdW50VHlwZSAmJlxyXG5cdFx0XHQhY291bnRUeXBlcy5pbmNsdWRlcyhsb2FkZWQuc2V0dGluZ3MuY291bnRUeXBlKVxyXG5cdFx0KSB7XHJcblx0XHRcdGxvYWRlZC5zZXR0aW5ncy5jb3VudFR5cGUgPSBDb3VudFR5cGUuV29yZDtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnNhdmVkRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGxvYWRlZCk7XHJcblxyXG5cdFx0dGhpcy5zYXZlZERhdGEuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKFxyXG5cdFx0XHR7fSxcclxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcclxuXHRcdFx0dGhpcy5zYXZlZERhdGEuc2V0dGluZ3NcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2F2ZWREYXRhKTtcclxuXHR9XHJcblxyXG5cdC8vIFBVQkxJQ1xyXG5cclxuXHRwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZShyZWZyZXNoQWxsQ291bnRzID0gdHJ1ZSkge1xyXG5cdFx0dGhpcy5kZWJ1Z0hlbHBlci5kZWJ1ZyhcImluaXRpYWxpemVcIik7XHJcblxyXG5cdFx0aWYgKHJlZnJlc2hBbGxDb3VudHMpIHtcclxuXHRcdFx0YXdhaXQgdGhpcy5yZWZyZXNoQWxsQ291bnRzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0YXdhaXQgdGhpcy51cGRhdGVEaXNwbGF5ZWRDb3VudHMoKTtcclxuXHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFwiRXJyb3Igd2hpbGUgdXBkYXRpbmcgZGlzcGxheWVkIGNvdW50c1wiKTtcclxuXHRcdFx0dGhpcy5kZWJ1Z0hlbHBlci5lcnJvcihlcnIpO1xyXG5cclxuXHRcdFx0Ly8gRmlsZSBFeHBsb3JlciBwYW5lIG1heSBub3QgYmUgbG9hZGVkIHlldFxyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmluaXRpYWxpemUoZmFsc2UpO1xyXG5cdFx0XHR9LCAxMDAwKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyB1cGRhdGVEaXNwbGF5ZWRDb3VudHMoZmlsZTogVEFic3RyYWN0RmlsZSB8IG51bGwgPSBudWxsKSB7XHJcblx0XHRjb25zdCBkZWJ1Z0VuZCA9IHRoaXMuZGVidWdIZWxwZXIuZGVidWdTdGFydChcInVwZGF0ZURpc3BsYXllZENvdW50c1wiKTtcclxuXHJcblx0XHRpZiAoIU9iamVjdC5rZXlzKHRoaXMuc2F2ZWREYXRhLmNhY2hlZENvdW50cykubGVuZ3RoKSB7XHJcblx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXCJObyBjYWNoZWQgZGF0YSBmb3VuZDsgcmVmcmVzaGluZyBhbGwgY291bnRzLlwiKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5yZWZyZXNoQWxsQ291bnRzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZmlsZUV4cGxvcmVyTGVhZiA9IGF3YWl0IHRoaXMuZ2V0RmlsZUV4cGxvcmVyTGVhZigpO1xyXG5cdFx0dGhpcy5zZXRDb250YWluZXJDbGFzcyhmaWxlRXhwbG9yZXJMZWFmKTtcclxuXHRcdGNvbnN0IGZpbGVJdGVtczogeyBbcGF0aDogc3RyaW5nXTogRmlsZUl0ZW0gfSA9IChcclxuXHRcdFx0ZmlsZUV4cGxvcmVyTGVhZi52aWV3IGFzIGFueVxyXG5cdFx0KS5maWxlSXRlbXM7XHJcblxyXG5cdFx0aWYgKGZpbGUpIHtcclxuXHRcdFx0Y29uc3QgcmVsZXZhbnRJdGVtcyA9IE9iamVjdC5rZXlzKGZpbGVJdGVtcykuZmlsdGVyKChwYXRoKSA9PlxyXG5cdFx0XHRcdGZpbGUucGF0aC5pbmNsdWRlcyhwYXRoKVxyXG5cdFx0XHQpO1xyXG5cdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxyXG5cdFx0XHRcdFwiU2V0dGluZyBkaXNwbGF5IGNvdW50cyBmb3JcIixcclxuXHRcdFx0XHRyZWxldmFudEl0ZW1zLmxlbmd0aCxcclxuXHRcdFx0XHRcImZpbGVJdGVtcyBtYXRjaGluZyBwYXRoXCIsXHJcblx0XHRcdFx0ZmlsZS5wYXRoXHJcblx0XHRcdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxyXG5cdFx0XHRcdGBTZXR0aW5nIGRpc3BsYXkgY291bnRzIGZvciAke09iamVjdC5rZXlzKGZpbGVJdGVtcykubGVuZ3RofSBmaWxlSXRlbXNgXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChjb25zdCBwYXRoIGluIGZpbGVJdGVtcykge1xyXG5cdFx0XHRpZiAoZmlsZSAmJiAhZmlsZS5wYXRoLmluY2x1ZGVzKHBhdGgpKSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGNvdW50cyA9IHRoaXMuZmlsZUhlbHBlci5nZXRDb3VudERhdGFGb3JQYXRoKFxyXG5cdFx0XHRcdHRoaXMuc2F2ZWREYXRhLmNhY2hlZENvdW50cyxcclxuXHRcdFx0XHRwYXRoXHJcblx0XHRcdCk7XHJcblx0XHRcdGNvbnN0IGl0ZW0gPSBmaWxlSXRlbXNbcGF0aF07XHJcblx0XHRcdChpdGVtLnRpdGxlRWwgPz8gaXRlbS5zZWxmRWwpLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcImRhdGEtbm92ZWwtd29yZC1jb3VudC1wbHVnaW5cIixcclxuXHRcdFx0XHR0aGlzLmdldE5vZGVMYWJlbChjb3VudHMpXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGVidWdFbmQoKTtcclxuXHR9XHJcblxyXG5cdC8vIEZVTkNUSU9OQUxJVFlcclxuXHJcblx0cHJpdmF0ZSBhc3luYyBnZXRGaWxlRXhwbG9yZXJMZWFmKCk6IFByb21pc2U8V29ya3NwYWNlTGVhZj4ge1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0bGV0IGZvdW5kTGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwgPSBudWxsO1xyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuaXRlcmF0ZUFsbExlYXZlcygobGVhZikgPT4ge1xyXG5cdFx0XHRcdGlmIChmb3VuZExlYWYpIHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnN0IHZpZXcgPSBsZWFmLnZpZXcgYXMgYW55O1xyXG5cdFx0XHRcdGlmICghdmlldyB8fCAhdmlldy5maWxlSXRlbXMpIHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGZvdW5kTGVhZiA9IGxlYWY7XHJcblx0XHRcdFx0cmVzb2x2ZShmb3VuZExlYWYpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmICghZm91bmRMZWFmKSB7XHJcblx0XHRcdFx0cmVqZWN0KEVycm9yKFwiQ291bGQgbm90IGZpbmQgZmlsZSBleHBsb3JlciBsZWFmLlwiKSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXREYXRhVHlwZUxhYmVsKFxyXG5cdFx0Y291bnRzOiBDb3VudERhdGEsXHJcblx0XHRjb3VudFR5cGU6IENvdW50VHlwZSxcclxuXHRcdGFiYnJldmlhdGVEZXNjcmlwdGlvbnM6IGJvb2xlYW5cclxuXHQpOiBzdHJpbmcgfCBudWxsIHtcclxuXHRcdGlmICghY291bnRzIHx8IHR5cGVvZiBjb3VudHMud29yZENvdW50ICE9PSBcIm51bWJlclwiKSB7XHJcblx0XHRcdHJldHVybiBcIlwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGdldFBsdXJhbGl6ZWRDb3VudCA9IGZ1bmN0aW9uIChcclxuXHRcdFx0bm91bjogc3RyaW5nLFxyXG5cdFx0XHRjb3VudDogbnVtYmVyLFxyXG5cdFx0XHRyb3VuZDogYm9vbGVhbiA9IHRydWVcclxuXHRcdCkge1xyXG5cdFx0XHRjb25zdCByb3VuZGVkQ291bnQgPSByb3VuZCA/IE1hdGguY2VpbChjb3VudCkgOiBjb3VudDtcclxuXHRcdFx0Y29uc3QgZGlzcGxheUNvdW50ID0gcm91bmRcclxuXHRcdFx0XHQ/IHJvdW5kZWRDb3VudC50b0xvY2FsZVN0cmluZygpXHJcblx0XHRcdFx0OiByb3VuZGVkQ291bnQudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7XHJcblx0XHRcdFx0XHRcdG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMSxcclxuXHRcdFx0XHRcdFx0bWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyLFxyXG5cdFx0XHRcdCAgfSk7XHJcblx0XHRcdHJldHVybiBgJHtkaXNwbGF5Q291bnR9ICR7bm91bn0ke3JvdW5kZWRDb3VudCA9PSAxID8gXCJcIiA6IFwic1wifWA7XHJcblx0XHR9O1xyXG5cclxuXHRcdHN3aXRjaCAoY291bnRUeXBlKSB7XHJcblx0XHRcdGNhc2UgQ291bnRUeXBlLk5vbmU6XHJcblx0XHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHRcdGNhc2UgQ291bnRUeXBlLldvcmQ6XHJcblx0XHRcdFx0cmV0dXJuIGFiYnJldmlhdGVEZXNjcmlwdGlvbnNcclxuXHRcdFx0XHRcdD8gYCR7TWF0aC5jZWlsKGNvdW50cy53b3JkQ291bnQpLnRvTG9jYWxlU3RyaW5nKCl9d2BcclxuXHRcdFx0XHRcdDogZ2V0UGx1cmFsaXplZENvdW50KFwid29yZFwiLCBjb3VudHMud29yZENvdW50KTtcclxuXHRcdFx0Y2FzZSBDb3VudFR5cGUuUGFnZTpcclxuXHRcdFx0XHRyZXR1cm4gYWJicmV2aWF0ZURlc2NyaXB0aW9uc1xyXG5cdFx0XHRcdFx0PyBgJHtNYXRoLmNlaWwoY291bnRzLnBhZ2VDb3VudCkudG9Mb2NhbGVTdHJpbmcoKX1wYFxyXG5cdFx0XHRcdFx0OiBnZXRQbHVyYWxpemVkQ291bnQoXCJwYWdlXCIsIGNvdW50cy5wYWdlQ291bnQpO1xyXG5cdFx0XHRjYXNlIENvdW50VHlwZS5QYWdlRGVjaW1hbDpcclxuXHRcdFx0XHRyZXR1cm4gYWJicmV2aWF0ZURlc2NyaXB0aW9uc1xyXG5cdFx0XHRcdFx0PyBgJHtjb3VudHMucGFnZUNvdW50LnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwge1xyXG5cdFx0XHRcdFx0XHRcdG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMSxcclxuXHRcdFx0XHRcdFx0XHRtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDIsXHJcblx0XHRcdFx0XHQgIH0pfXBgXHJcblx0XHRcdFx0XHQ6IGdldFBsdXJhbGl6ZWRDb3VudChcInBhZ2VcIiwgY291bnRzLnBhZ2VDb3VudCwgZmFsc2UpO1xyXG5cdFx0XHRjYXNlIENvdW50VHlwZS5Ob3RlOlxyXG5cdFx0XHRcdHJldHVybiBhYmJyZXZpYXRlRGVzY3JpcHRpb25zXHJcblx0XHRcdFx0XHQ/IGAke2NvdW50cy5ub3RlQ291bnQudG9Mb2NhbGVTdHJpbmcoKX1uYFxyXG5cdFx0XHRcdFx0OiBnZXRQbHVyYWxpemVkQ291bnQoXCJub3RlXCIsIGNvdW50cy5ub3RlQ291bnQpO1xyXG5cdFx0XHRjYXNlIENvdW50VHlwZS5DaGFyYWN0ZXI6XHJcblx0XHRcdFx0cmV0dXJuIGFiYnJldmlhdGVEZXNjcmlwdGlvbnNcclxuXHRcdFx0XHRcdD8gYCR7Y291bnRzLmNoYXJhY3RlckNvdW50LnRvTG9jYWxlU3RyaW5nKCl9Y2hgXHJcblx0XHRcdFx0XHQ6IGdldFBsdXJhbGl6ZWRDb3VudChcImNoYXJhY3RlclwiLCBjb3VudHMuY2hhcmFjdGVyQ291bnQpO1xyXG5cdFx0XHRjYXNlIENvdW50VHlwZS5DcmVhdGVkOlxyXG5cdFx0XHRcdGlmIChjb3VudHMuY3JlYXRlZERhdGUgPT09IDApIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIlwiO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGFiYnJldmlhdGVEZXNjcmlwdGlvbnNcclxuXHRcdFx0XHRcdD8gYCR7bmV3IERhdGUoY291bnRzLmNyZWF0ZWREYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoKX0vY2BcclxuXHRcdFx0XHRcdDogYENyZWF0ZWQgJHtuZXcgRGF0ZShjb3VudHMuY3JlYXRlZERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpfWA7XHJcblx0XHRcdGNhc2UgQ291bnRUeXBlLk1vZGlmaWVkOlxyXG5cdFx0XHRcdGlmIChjb3VudHMubW9kaWZpZWREYXRlID09PSAwKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBhYmJyZXZpYXRlRGVzY3JpcHRpb25zXHJcblx0XHRcdFx0XHQ/IGAke25ldyBEYXRlKGNvdW50cy5tb2RpZmllZERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpfS91YFxyXG5cdFx0XHRcdFx0OiBgVXBkYXRlZCAke25ldyBEYXRlKGNvdW50cy5tb2RpZmllZERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpfWA7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFwiXCI7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldE5vZGVMYWJlbChjb3VudHM6IENvdW50RGF0YSk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBjb3VudFR5cGVzID0gY291bnRzLmlzRGlyZWN0b3J5ICYmICF0aGlzLnNldHRpbmdzLnNob3dTYW1lQ291bnRzT25Gb2xkZXJzID8gXHJcblx0XHRcdFt0aGlzLnNldHRpbmdzLmZvbGRlckNvdW50VHlwZSwgdGhpcy5zZXR0aW5ncy5mb2xkZXJDb3VudFR5cGUyLCB0aGlzLnNldHRpbmdzLmZvbGRlckNvdW50VHlwZTNdIDpcclxuXHRcdFx0W3RoaXMuc2V0dGluZ3MuY291bnRUeXBlLCB0aGlzLnNldHRpbmdzLmNvdW50VHlwZTIsIHRoaXMuc2V0dGluZ3MuY291bnRUeXBlM107XHJcblxyXG5cdFx0cmV0dXJuIGNvdW50VHlwZXNcclxuXHRcdFx0LmZpbHRlcigoY3QpID0+IGN0ICE9PSBDb3VudFR5cGUuTm9uZSlcclxuXHRcdFx0Lm1hcCgoY3QpID0+XHJcblx0XHRcdFx0dGhpcy5nZXREYXRhVHlwZUxhYmVsKGNvdW50cywgY3QsIHRoaXMuc2V0dGluZ3MuYWJicmV2aWF0ZURlc2NyaXB0aW9ucylcclxuXHRcdFx0KVxyXG5cdFx0XHQuZmlsdGVyKChkaXNwbGF5KSA9PiBkaXNwbGF5ICE9PSBudWxsKVxyXG5cdFx0XHQuam9pbihcIiB8IFwiKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaGFuZGxlRXZlbnRzKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5vbihcIm1vZGlmeVwiLCBhc3luYyAoZmlsZSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXHJcblx0XHRcdFx0XHRcIlttb2RpZnldIHZhdWx0IGhvb2sgZmlyZWQsIHJlY291bnRpbmcgZmlsZVwiLFxyXG5cdFx0XHRcdFx0ZmlsZS5wYXRoXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmZpbGVIZWxwZXIudXBkYXRlRmlsZUNvdW50cyhcclxuXHRcdFx0XHRcdGZpbGUsXHJcblx0XHRcdFx0XHR0aGlzLnNhdmVkRGF0YS5jYWNoZWRDb3VudHMsXHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLndvcmRDb3VudFR5cGVcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlRGlzcGxheWVkQ291bnRzKGZpbGUpO1xyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHJcblx0XHRjb25zdCByZWNhbGN1bGF0ZUFsbCA9IGFzeW5jIChob29rTmFtZTogc3RyaW5nLCBmaWxlPzogVEFic3RyYWN0RmlsZSkgPT4ge1xyXG5cdFx0XHRpZiAoZmlsZSkge1xyXG5cdFx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXHJcblx0XHRcdFx0XHRgWyR7aG9va05hbWV9XSB2YXVsdCBob29rIGZpcmVkIGJ5IGZpbGVgLFxyXG5cdFx0XHRcdFx0ZmlsZS5wYXRoLFxyXG5cdFx0XHRcdFx0XCJyZWNvdW50aW5nIGFsbCBmaWxlc1wiXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxyXG5cdFx0XHRcdFx0YFske2hvb2tOYW1lfV0gaG9vayBmaXJlZGAsXHJcblx0XHRcdFx0XHRcInJlY291bnRpbmcgYWxsIGZpbGVzXCJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGF3YWl0IHRoaXMucmVmcmVzaEFsbENvdW50cygpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMuYXBwLnZhdWx0Lm9uKFxyXG5cdFx0XHRcdFwicmVuYW1lXCIsXHJcblx0XHRcdFx0ZGVib3VuY2UocmVjYWxjdWxhdGVBbGwuYmluZCh0aGlzLCBcInJlbmFtZVwiKSwgMTAwMClcclxuXHRcdFx0KVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMuYXBwLnZhdWx0Lm9uKFxyXG5cdFx0XHRcdFwiY3JlYXRlXCIsXHJcblx0XHRcdFx0ZGVib3VuY2UocmVjYWxjdWxhdGVBbGwuYmluZCh0aGlzLCBcImNyZWF0ZVwiKSwgMTAwMClcclxuXHRcdFx0KVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMuYXBwLnZhdWx0Lm9uKFxyXG5cdFx0XHRcdFwiZGVsZXRlXCIsXHJcblx0XHRcdFx0ZGVib3VuY2UocmVjYWxjdWxhdGVBbGwuYmluZCh0aGlzLCBcImRlbGV0ZVwiKSwgMTAwMClcclxuXHRcdFx0KVxyXG5cdFx0KTtcclxuXHJcblx0XHRjb25zdCByZXNob3dDb3VudHNJZk5lZWRlZCA9IGFzeW5jIChob29rTmFtZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoYFske2hvb2tOYW1lfV0gaG9vayBmaXJlZGApO1xyXG5cclxuXHRcdFx0Y29uc3QgZmlsZUV4cGxvcmVyTGVhZiA9IGF3YWl0IHRoaXMuZ2V0RmlsZUV4cGxvcmVyTGVhZigpO1xyXG5cdFx0XHRpZiAodGhpcy5pc0NvbnRhaW5lclRvdWNoZWQoZmlsZUV4cGxvcmVyTGVhZikpIHtcclxuXHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxyXG5cdFx0XHRcdFx0XCJjb250YWluZXIgYWxyZWFkeSB0b3VjaGVkLCBza2lwcGluZyBkaXNwbGF5IHVwZGF0ZVwiXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXCJjb250YWluZXIgaXMgY2xlYW4sIHVwZGF0aW5nIGRpc3BsYXlcIik7XHJcblx0XHRcdGF3YWl0IHRoaXMudXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFxyXG5cdFx0XHRcdFwibGF5b3V0LWNoYW5nZVwiLFxyXG5cdFx0XHRcdGRlYm91bmNlKHJlc2hvd0NvdW50c0lmTmVlZGVkLmJpbmQodGhpcywgXCJsYXlvdXQtY2hhbmdlXCIpLCAxMDAwKVxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpc0NvbnRhaW5lclRvdWNoZWQobGVhZjogV29ya3NwYWNlTGVhZik6IGJvb2xlYW4ge1xyXG5cdFx0Y29uc3QgY29udGFpbmVyID0gbGVhZi52aWV3LmNvbnRhaW5lckVsO1xyXG5cdFx0cmV0dXJuIGNvbnRhaW5lci5jbGFzc05hbWUuaW5jbHVkZXMoXCJub3ZlbC13b3JkLWNvdW50LS1cIik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHJlZnJlc2hBbGxDb3VudHMoKSB7XHJcblx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFwicmVmcmVzaEFsbENvdW50c1wiKTtcclxuXHRcdHRoaXMuc2F2ZWREYXRhLmNhY2hlZENvdW50cyA9IGF3YWl0IHRoaXMuZmlsZUhlbHBlci5nZXRBbGxGaWxlQ291bnRzKFxyXG5cdFx0XHR0aGlzLnNldHRpbmdzLndvcmRDb3VudFR5cGVcclxuXHRcdCk7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzZXRDb250YWluZXJDbGFzcyhsZWFmOiBXb3Jrc3BhY2VMZWFmKSB7XHJcblx0XHRjb25zdCBjb250YWluZXIgPSBsZWFmLnZpZXcuY29udGFpbmVyRWw7XHJcblx0XHRjb25zdCBwcmVmaXggPSBgbm92ZWwtd29yZC1jb3VudC0tYDtcclxuXHRcdGNvbnN0IGFsaWdubWVudENsYXNzZXMgPSBhbGlnbm1lbnRUeXBlcy5tYXAoKGF0KSA9PiBwcmVmaXggKyBhdCk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBhYyBvZiBhbGlnbm1lbnRDbGFzc2VzKSB7XHJcblx0XHRcdGNvbnRhaW5lci50b2dnbGVDbGFzcyhhYywgZmFsc2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnRhaW5lci50b2dnbGVDbGFzcyhwcmVmaXggKyB0aGlzLnNldHRpbmdzLmFsaWdubWVudCwgdHJ1ZSk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBOb3ZlbFdvcmRDb3VudFNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IE5vdmVsV29yZENvdW50UGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBOb3ZlbFdvcmRDb3VudFBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdC8qXHJcblx0XHQgKiBHRU5FUkFMXHJcblx0XHQgKi9cclxuXHJcblx0XHRjb25zdCBtYWluSGVhZGVyID0gY29udGFpbmVyRWwuY3JlYXRlRWwoXCJkaXZcIiwge1xyXG5cdFx0XHRjbHM6IFtcclxuXHRcdFx0XHRcInNldHRpbmctaXRlbVwiLFxyXG5cdFx0XHRcdFwic2V0dGluZy1pdGVtLWhlYWRpbmdcIixcclxuXHRcdFx0XHRcIm5vdmVsLXdvcmQtY291bnQtc2V0dGluZ3MtaGVhZGVyXCIsXHJcblx0XHRcdF0sXHJcblx0XHR9KTtcclxuXHRcdG1haW5IZWFkZXIuY3JlYXRlRWwoXCJkaXZcIiwgeyB0ZXh0OiBcIk5vdGVzXCIgfSk7XHJcblx0XHRtYWluSGVhZGVyLmNyZWF0ZUVsKFwiZGl2XCIsIHtcclxuXHRcdFx0dGV4dDogXCJZb3UgY2FuIGRpc3BsYXkgdXAgdG8gdGhyZWUgZGF0YSB0eXBlcyBzaWRlIGJ5IHNpZGUuXCIsXHJcblx0XHRcdGNsczogXCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcclxuXHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIjFzdCBkYXRhIHR5cGUgdG8gc2hvd1wiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIkV4OiAxMCwwMDAgd29yZHNcIilcclxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wKSA9PiB7XHJcblx0XHRcdFx0Zm9yIChjb25zdCBjb3VudFR5cGUgb2YgY291bnRUeXBlcykge1xyXG5cdFx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oY291bnRUeXBlLCBjb3VudFR5cGVEaXNwbGF5U3RyaW5nc1tjb3VudFR5cGVdKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGRyb3BcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb3VudFR5cGUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBDb3VudFR5cGUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRUeXBlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVEaXNwbGF5ZWRDb3VudHMoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCIybmQgZGF0YSB0eXBlIHRvIHNob3dcIilcclxuXHRcdFx0LnNldERlc2MoXCJFeDogMTAsMDAwIHdvcmRzIHwgMzMgcGFnZXNcIilcclxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wKSA9PiB7XHJcblx0XHRcdFx0Zm9yIChjb25zdCBjb3VudFR5cGUgb2YgY291bnRUeXBlcykge1xyXG5cdFx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oY291bnRUeXBlLCBjb3VudFR5cGVEaXNwbGF5U3RyaW5nc1tjb3VudFR5cGVdKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGRyb3BcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb3VudFR5cGUyKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogQ291bnRUeXBlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50VHlwZTIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIjNyZCBkYXRhIHR5cGUgdG8gc2hvd1wiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIkV4OiAxMCwwMDAgd29yZHMgfCAzMyBwYWdlcyB8IENyZWF0ZWQgMTAvMjcvMjAyMlwiKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3ApID0+IHtcclxuXHRcdFx0XHRmb3IgKGNvbnN0IGNvdW50VHlwZSBvZiBjb3VudFR5cGVzKSB7XHJcblx0XHRcdFx0XHRkcm9wLmFkZE9wdGlvbihjb3VudFR5cGUsIGNvdW50VHlwZURpc3BsYXlTdHJpbmdzW2NvdW50VHlwZV0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZHJvcFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50VHlwZTMpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBDb3VudFR5cGUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRUeXBlMyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiQWJicmV2aWF0ZSBkZXNjcmlwdGlvbnNcIilcclxuXHRcdFx0LnNldERlc2MoXCJFLmcuIHNob3cgJzEyMHcnIGluc3RlYWQgb2YgJzEyMCB3b3JkcydcIilcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG5cdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFiYnJldmlhdGVEZXNjcmlwdGlvbnMpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFiYnJldmlhdGVEZXNjcmlwdGlvbnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJBbGlnbm1lbnRcIilcclxuXHRcdFx0LnNldERlc2MoXHJcblx0XHRcdFx0XCJTaG93IGRhdGEgaW5saW5lIHdpdGggZmlsZS9mb2xkZXIgbmFtZXMsIHJpZ2h0LWFsaWduZWQsIG9yIHVuZGVybmVhdGhcIlxyXG5cdFx0XHQpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcCkgPT4ge1xyXG5cdFx0XHRcdGRyb3BcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oQWxpZ25tZW50VHlwZS5JbmxpbmUsIFwiSW5saW5lXCIpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKEFsaWdubWVudFR5cGUuUmlnaHQsIFwiUmlnaHQtYWxpZ25lZFwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihBbGlnbm1lbnRUeXBlLkJlbG93LCBcIkJlbG93XCIpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWxpZ25tZW50KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogQWxpZ25tZW50VHlwZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGlnbm1lbnQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8qXHJcblx0XHQgKiAgRk9MREVSIENPVU5UU1xyXG5cdFx0ICovXHJcblxyXG5cdFx0Y29udGFpbmVyRWxcclxuXHRcdFx0LmNyZWF0ZUVsKFwiZGl2XCIsIHsgdGV4dDogXCJGb2xkZXJzXCIgfSlcclxuXHRcdFx0LmFkZENsYXNzZXMoW1wic2V0dGluZy1pdGVtXCIsIFwic2V0dGluZy1pdGVtLWhlYWRpbmdcIl0pO1xyXG5cdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJTaG93IHNhbWUgZGF0YSBvbiBmb2xkZXJzXCIpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cclxuXHRcdFx0XHR0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U2FtZUNvdW50c09uRm9sZGVycylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd1NhbWVDb3VudHNPbkZvbGRlcnMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xyXG5cclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd1NhbWVDb3VudHNPbkZvbGRlcnMpIHtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiMXN0IGRhdGEgdHlwZSB0byBzaG93XCIpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcCkgPT4ge1xyXG5cdFx0XHRcdGZvciAoY29uc3QgY291bnRUeXBlIG9mIGNvdW50VHlwZXMpIHtcclxuXHRcdFx0XHRcdGRyb3AuYWRkT3B0aW9uKGNvdW50VHlwZSwgY291bnRUeXBlRGlzcGxheVN0cmluZ3NbY291bnRUeXBlXSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRkcm9wXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogQ291bnRUeXBlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50VHlwZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiMm5kIGRhdGEgdHlwZSB0byBzaG93XCIpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcCkgPT4ge1xyXG5cdFx0XHRcdGZvciAoY29uc3QgY291bnRUeXBlIG9mIGNvdW50VHlwZXMpIHtcclxuXHRcdFx0XHRcdGRyb3AuYWRkT3B0aW9uKGNvdW50VHlwZSwgY291bnRUeXBlRGlzcGxheVN0cmluZ3NbY291bnRUeXBlXSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRkcm9wXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlMilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWU6IENvdW50VHlwZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudFR5cGUyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVEaXNwbGF5ZWRDb3VudHMoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCIzcmQgZGF0YSB0eXBlIHRvIHNob3dcIilcclxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wKSA9PiB7XHJcblx0XHRcdFx0Zm9yIChjb25zdCBjb3VudFR5cGUgb2YgY291bnRUeXBlcykge1xyXG5cdFx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oY291bnRUeXBlLCBjb3VudFR5cGVEaXNwbGF5U3RyaW5nc1tjb3VudFR5cGVdKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGRyb3BcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudFR5cGUzKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogQ291bnRUeXBlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50VHlwZTMgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qXHJcblx0XHQgKlx0QURWQU5DRURcclxuXHRcdCAqL1xyXG5cclxuXHRcdGNvbnRhaW5lckVsXHJcblx0XHRcdC5jcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IFwiQWR2YW5jZWRcIiB9KVxyXG5cdFx0XHQuYWRkQ2xhc3NlcyhbXCJzZXR0aW5nLWl0ZW1cIiwgXCJzZXR0aW5nLWl0ZW0taGVhZGluZ1wiXSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiV29yZCBjb3VudCBtZXRob2RcIilcclxuXHRcdFx0LnNldERlc2MoXCJGb3IgbGFuZ3VhZ2UgY29tcGF0aWJpbGl0eVwiKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3ApID0+IHtcclxuXHRcdFx0XHRkcm9wXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFxyXG5cdFx0XHRcdFx0XHRXb3JkQ291bnRUeXBlLlNwYWNlRGVsaW1pdGVkLFxyXG5cdFx0XHRcdFx0XHRcIlNwYWNlLWRlbGltaXRlZCAoRXVyb3BlYW4gbGFuZ3VhZ2VzKVwiXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFdvcmRDb3VudFR5cGUuQ0pLLCBcIkhhbi9LYW5hL0hhbmd1bCAoQ0pLKVwiKVxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihXb3JkQ291bnRUeXBlLkF1dG9EZXRlY3QsIFwiQXV0by1kZXRlY3QgYnkgZmlsZVwiKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRDb3VudFR5cGUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBXb3JkQ291bnRUeXBlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRDb3VudFR5cGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmluaXRpYWxpemUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJQYWdlIGNvdW50IG1ldGhvZFwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIkZvciBsYW5ndWFnZSBjb21wYXRpYmlsaXR5XCIpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcCkgPT4ge1xyXG5cdFx0XHRcdGRyb3BcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oUGFnZUNvdW50VHlwZS5CeVdvcmRzLCBcIldvcmRzIHBlciBwYWdlXCIpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFBhZ2VDb3VudFR5cGUuQnlDaGFycywgXCJDaGFyYWN0ZXJzIHBlciBwYWdlXCIpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFnZUNvdW50VHlwZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWU6IFBhZ2VDb3VudFR5cGUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucGFnZUNvdW50VHlwZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFnZUNvdW50VHlwZSA9PT0gUGFnZUNvdW50VHlwZS5CeVdvcmRzKSB7XHJcblx0XHRcdGNvbnN0IHdvcmRzUGVyUGFnZUNoYW5nZWQgPSBhc3luYyAodHh0OiBUZXh0Q29tcG9uZW50LCB2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgYXNOdW1iZXIgPSBOdW1iZXIodmFsdWUpO1xyXG5cdFx0XHRcdGNvbnN0IGlzVmFsaWQgPSAhaXNOYU4oYXNOdW1iZXIpICYmIGFzTnVtYmVyID4gMDtcclxuXHJcblx0XHRcdFx0dHh0LmlucHV0RWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBpc1ZhbGlkID8gbnVsbCA6IFwicmVkXCI7XHJcblxyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzUGVyUGFnZSA9IGlzVmFsaWQgPyBOdW1iZXIodmFsdWUpIDogMzAwO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmluaXRpYWxpemUoKTtcclxuXHRcdFx0fTtcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJXb3JkcyBwZXIgcGFnZVwiKVxyXG5cdFx0XHRcdC5zZXREZXNjKFxyXG5cdFx0XHRcdFx0XCJVc2VkIGZvciBwYWdlIGNvdW50LiAzMDAgaXMgc3RhbmRhcmQgaW4gRW5nbGlzaCBsYW5ndWFnZSBwdWJsaXNoaW5nLlwiXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdC5hZGRUZXh0KCh0eHQpID0+IHtcclxuXHRcdFx0XHRcdHR4dFxyXG5cdFx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCIzMDBcIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzUGVyUGFnZS50b1N0cmluZygpKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoZGVib3VuY2Uod29yZHNQZXJQYWdlQ2hhbmdlZC5iaW5kKHRoaXMsIHR4dCksIDEwMDApKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFnZUNvdW50VHlwZSA9PT0gUGFnZUNvdW50VHlwZS5CeUNoYXJzKSB7XHJcblx0XHRcdGNvbnN0IGNoYXJzUGVyUGFnZUNoYW5nZWQgPSBhc3luYyAodHh0OiBUZXh0Q29tcG9uZW50LCB2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgYXNOdW1iZXIgPSBOdW1iZXIodmFsdWUpO1xyXG5cdFx0XHRcdGNvbnN0IGlzVmFsaWQgPSAhaXNOYU4oYXNOdW1iZXIpICYmIGFzTnVtYmVyID4gMDtcclxuXHJcblx0XHRcdFx0dHh0LmlucHV0RWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBpc1ZhbGlkID8gbnVsbCA6IFwicmVkXCI7XHJcblxyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNoYXJzUGVyUGFnZSA9IGlzVmFsaWQgPyBOdW1iZXIodmFsdWUpIDogMTUwMDtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5pbml0aWFsaXplKCk7XHJcblx0XHRcdH07XHJcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKFwiQ2hhcmFjdGVycyBwZXIgcGFnZSAobm90IGNvdW50aW5nIHdoaXRlc3BhY2UpXCIpXHJcblx0XHRcdFx0LnNldERlc2MoXCJVc2VkIGZvciBwYWdlIGNvdW50LiAxNTAwIGlzIGNvbW1vbiBpbiBHZXJtYW4gKE5vcm1zZWl0ZSkuXCIpXHJcblx0XHRcdFx0LmFkZFRleHQoKHR4dCkgPT4ge1xyXG5cdFx0XHRcdFx0dHh0XHJcblx0XHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIjE1MDBcIilcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNoYXJzUGVyUGFnZS50b1N0cmluZygpKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoZGVib3VuY2UoY2hhcnNQZXJQYWdlQ2hhbmdlZC5iaW5kKHRoaXMsIHR4dCksIDEwMDApKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJSZWFuYWx5emUgYWxsIGRvY3VtZW50c1wiKVxyXG5cdFx0XHQuc2V0RGVzYyhcclxuXHRcdFx0XHRcIklmIGNoYW5nZXMgaGF2ZSBvY2N1cnJlZCBvdXRzaWRlIG9mIE9ic2lkaWFuLCB5b3UgbWF5IG5lZWQgdG8gdHJpZ2dlciBhIG1hbnVhbCBhbmFseXNpc1wiXHJcblx0XHRcdClcclxuXHRcdFx0LmFkZEJ1dHRvbigoYnV0dG9uKSA9PlxyXG5cdFx0XHRcdGJ1dHRvblxyXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoXCJSZWFuYWx5emVcIilcclxuXHRcdFx0XHRcdC5zZXRDdGEoKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5pbml0aWFsaXplKCk7XHJcblx0XHRcdFx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KFwiRG9uZVwiKTtcclxuXHRcdFx0XHRcdFx0YnV0dG9uLnJlbW92ZUN0YSgpO1xyXG5cclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnNldEJ1dHRvblRleHQoXCJSZWFuYWx5emVcIik7XHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnNldEN0YSgpO1xyXG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiRGVidWcgbW9kZVwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIkxvZyBkZWJ1Z2dpbmcgaW5mb3JtYXRpb24gdG8gdGhlIGRldmVsb3BlciBjb25zb2xlXCIpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cclxuXHRcdFx0XHR0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Z01vZGUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlYnVnTW9kZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5kZWJ1Z0hlbHBlci5zZXREZWJ1Z01vZGUodmFsdWUpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5maWxlSGVscGVyLnNldERlYnVnTW9kZSh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHR9XHJcbn1cclxuIiwgImV4cG9ydCBjbGFzcyBEZWJ1Z0hlbHBlciB7XG4gIHByaXZhdGUgZGVidWdNb2RlID0gZmFsc2U7XG5cbiAgcHVibGljIHNldERlYnVnTW9kZShkZWJ1ZzogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuZGVidWdNb2RlID0gZGVidWc7XG4gIH1cblxuICBwdWJsaWMgZGVidWcoLi4uYXJnczogYW55W10pOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuZGVidWdNb2RlKSB7XG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZygnbm92ZWwtd29yZC1jb3VudDonLCAuLi5hcmdzKTtcblx0fVxuXG5cdHB1YmxpYyBlcnJvcihtZXNzYWdlOiBhbnkpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuZGVidWdNb2RlKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc29sZS5lcnJvcihtZXNzYWdlKTtcblx0fVxuXG5cdHB1YmxpYyBkZWJ1Z1N0YXJ0KG5hbWU6IHN0cmluZyk6ICgpID0+IHZvaWQge1xuXHRcdGlmICghdGhpcy5kZWJ1Z01vZGUpIHtcblx0XHRcdHJldHVybiAoKSA9PiB7fVxuXHRcdH1cblxuXHRcdHZhciBxdWFsaWZpZWROYW1lID0gYG5vdmVsLXdvcmQtY291bnR8JHtuYW1lfWBcblx0XHRjb25zb2xlLnRpbWUocXVhbGlmaWVkTmFtZSk7XG5cdFx0cmV0dXJuICgpID0+IGNvbnNvbGUudGltZUVuZChxdWFsaWZpZWROYW1lKTtcblx0fVxufVxuIiwgImltcG9ydCBOb3ZlbFdvcmRDb3VudFBsdWdpbiBmcm9tIFwibWFpblwiO1xuaW1wb3J0IHsgVEFic3RyYWN0RmlsZSwgVEZpbGUsIFRGb2xkZXIsIFZhdWx0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBEZWJ1Z0hlbHBlciB9IGZyb20gXCIuL2RlYnVnXCI7XG5pbXBvcnQgeyBOb3ZlbFdvcmRDb3VudFNldHRpbmdzLCBQYWdlQ291bnRUeXBlLCBXb3JkQ291bnRUeXBlIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb3VudERhdGEge1xuXHRpc0RpcmVjdG9yeTogYm9vbGVhbjtcblx0bm90ZUNvdW50OiBudW1iZXI7XG5cdHBhZ2VDb3VudDogbnVtYmVyO1xuXHR3b3JkQ291bnQ6IG51bWJlcjtcblx0Y2hhcmFjdGVyQ291bnQ6IG51bWJlcjtcblx0bm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50OiBudW1iZXI7XG5cdGNyZWF0ZWREYXRlOiBudW1iZXI7XG5cdG1vZGlmaWVkRGF0ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBDb3VudHNCeUZpbGUgPSB7XG5cdFtwYXRoOiBzdHJpbmddOiBDb3VudERhdGE7XG59O1xuXG5leHBvcnQgY2xhc3MgRmlsZUhlbHBlciB7XG5cdHByaXZhdGUgZGVidWdIZWxwZXIgPSBuZXcgRGVidWdIZWxwZXIoKTtcblx0cHJpdmF0ZSBnZXQgc2V0dGluZ3MoKTogTm92ZWxXb3JkQ291bnRTZXR0aW5ncyB7XG5cdFx0cmV0dXJuIHRoaXMucGx1Z2luLnNldHRpbmdzO1xuXHR9XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSB2YXVsdDogVmF1bHQsIHByaXZhdGUgcGx1Z2luOiBOb3ZlbFdvcmRDb3VudFBsdWdpbikge31cblxuXHRwdWJsaWMgYXN5bmMgZ2V0QWxsRmlsZUNvdW50cyh3b3JkQ291bnRUeXBlOiBXb3JkQ291bnRUeXBlKTogUHJvbWlzZTxDb3VudHNCeUZpbGU+IHtcblx0XHRjb25zdCBkZWJ1Z0VuZCA9IHRoaXMuZGVidWdIZWxwZXIuZGVidWdTdGFydChcImdldEFsbEZpbGVDb3VudHNcIik7XG5cblx0XHRjb25zdCBmaWxlcyA9IHRoaXMudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuXHRcdGNvbnN0IGNvdW50czogQ291bnRzQnlGaWxlID0ge307XG5cblx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcblx0XHRcdGNvbnN0IGNvbnRlbnRzID0gYXdhaXQgdGhpcy52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuXHRcdFx0dGhpcy5zZXRDb3VudHMoY291bnRzLCBmaWxlLCBjb250ZW50cywgd29yZENvdW50VHlwZSk7XG5cdFx0fVxuXG5cdFx0ZGVidWdFbmQoKTtcblx0XHRyZXR1cm4gY291bnRzO1xuXHR9XG5cblx0cHVibGljIGdldENvdW50RGF0YUZvclBhdGgoY291bnRzOiBDb3VudHNCeUZpbGUsIHBhdGg6IHN0cmluZyk6IENvdW50RGF0YSB7XG5cdFx0aWYgKGNvdW50cy5oYXNPd25Qcm9wZXJ0eShwYXRoKSkge1xuXHRcdFx0cmV0dXJuIGNvdW50c1twYXRoXTtcblx0XHR9XG5cblx0XHRjb25zdCBjaGlsZFBhdGhzID0gT2JqZWN0LmtleXMoY291bnRzKS5maWx0ZXIoXG5cdFx0XHQoY291bnRQYXRoKSA9PiBwYXRoID09PSBcIi9cIiB8fCBjb3VudFBhdGguc3RhcnRzV2l0aChwYXRoICsgXCIvXCIpXG5cdFx0KTtcblxuXHRcdHJldHVybiBjaGlsZFBhdGhzLnJlZHVjZShcblx0XHRcdCh0b3RhbCwgY2hpbGRQYXRoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNoaWxkQ291bnQgPSB0aGlzLmdldENvdW50RGF0YUZvclBhdGgoY291bnRzLCBjaGlsZFBhdGgpO1xuXHRcdFx0XHR0b3RhbC5pc0RpcmVjdG9yeSA9IHRydWU7XG5cdFx0XHRcdHRvdGFsLm5vdGVDb3VudCArPSBjaGlsZENvdW50Lm5vdGVDb3VudDtcblx0XHRcdFx0dG90YWwud29yZENvdW50ICs9IGNoaWxkQ291bnQud29yZENvdW50O1xuXHRcdFx0XHR0b3RhbC5wYWdlQ291bnQgKz0gY2hpbGRDb3VudC5wYWdlQ291bnQ7XG5cdFx0XHRcdHRvdGFsLmNoYXJhY3RlckNvdW50ICs9IGNoaWxkQ291bnQuY2hhcmFjdGVyQ291bnQ7XG5cdFx0XHRcdHRvdGFsLm5vbldoaXRlc3BhY2VDaGFyYWN0ZXJDb3VudCArPVxuXHRcdFx0XHRcdGNoaWxkQ291bnQubm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50O1xuXHRcdFx0XHR0b3RhbC5jcmVhdGVkRGF0ZSA9XG5cdFx0XHRcdFx0dG90YWwuY3JlYXRlZERhdGUgPT09IDBcblx0XHRcdFx0XHRcdD8gY2hpbGRDb3VudC5jcmVhdGVkRGF0ZVxuXHRcdFx0XHRcdFx0OiBNYXRoLm1pbih0b3RhbC5jcmVhdGVkRGF0ZSwgY2hpbGRDb3VudC5jcmVhdGVkRGF0ZSk7XG5cdFx0XHRcdHRvdGFsLm1vZGlmaWVkRGF0ZSA9IE1hdGgubWF4KFxuXHRcdFx0XHRcdHRvdGFsLm1vZGlmaWVkRGF0ZSxcblx0XHRcdFx0XHRjaGlsZENvdW50Lm1vZGlmaWVkRGF0ZVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRyZXR1cm4gdG90YWw7XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRpc0RpcmVjdG9yeTogdHJ1ZSxcblx0XHRcdFx0bm90ZUNvdW50OiAwLFxuXHRcdFx0XHR3b3JkQ291bnQ6IDAsXG5cdFx0XHRcdHBhZ2VDb3VudDogMCxcblx0XHRcdFx0Y2hhcmFjdGVyQ291bnQ6IDAsXG5cdFx0XHRcdG5vbldoaXRlc3BhY2VDaGFyYWN0ZXJDb3VudDogMCxcblx0XHRcdFx0Y3JlYXRlZERhdGU6IDAsXG5cdFx0XHRcdG1vZGlmaWVkRGF0ZTogMCxcblx0XHRcdH0gYXMgQ291bnREYXRhXG5cdFx0KTtcblx0fVxuXG5cdHB1YmxpYyBzZXREZWJ1Z01vZGUoZGVidWc6IGJvb2xlYW4pOiB2b2lkIHtcblx0XHR0aGlzLmRlYnVnSGVscGVyLnNldERlYnVnTW9kZShkZWJ1Zyk7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgdXBkYXRlRmlsZUNvdW50cyhcblx0XHRhYnN0cmFjdEZpbGU6IFRBYnN0cmFjdEZpbGUsXG5cdFx0Y291bnRzOiBDb3VudHNCeUZpbGUsXG5cdFx0d29yZENvdW50VHlwZTogV29yZENvdW50VHlwZVxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAoYWJzdHJhY3RGaWxlIGluc3RhbmNlb2YgVEZvbGRlcikge1xuXHRcdFx0dGhpcy5kZWJ1Z0hlbHBlci5kZWJ1ZyhcInVwZGF0ZUZpbGVDb3VudHMgY2FsbGVkIG9uIGluc3RhbmNlIG9mIFRGb2xkZXJcIik7XG5cdFx0XHRPYmplY3QuYXNzaWduKGNvdW50cywgdGhpcy5nZXRBbGxGaWxlQ291bnRzKHdvcmRDb3VudFR5cGUpKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoYWJzdHJhY3RGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcblx0XHRcdGNvbnN0IGNvbnRlbnRzID0gYXdhaXQgdGhpcy52YXVsdC5jYWNoZWRSZWFkKGFic3RyYWN0RmlsZSk7XG5cdFx0XHR0aGlzLnNldENvdW50cyhjb3VudHMsIGFic3RyYWN0RmlsZSwgY29udGVudHMsIHdvcmRDb3VudFR5cGUpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgY2prUmVnZXggPSAvXFxwe1NjcmlwdD1IYW59fFxccHtTY3JpcHQ9SGlyYWdhbmF9fFxccHtTY3JpcHQ9S2F0YWthbmF9fFxccHtTY3JpcHQ9SGFuZ3VsfXxbMC05XSsvdWc7XG5cblx0cHJpdmF0ZSBjb3VudFdvcmRzKGNvbnRlbnQ6IHN0cmluZywgd29yZENvdW50VHlwZTogV29yZENvdW50VHlwZSk6IG51bWJlciB7XG5cdFx0c3dpdGNoICh3b3JkQ291bnRUeXBlKSB7XG5cdFx0XHRjYXNlIFdvcmRDb3VudFR5cGUuQ0pLOlxuXHRcdFx0XHRyZXR1cm4gKGNvbnRlbnQubWF0Y2godGhpcy5jamtSZWdleCkgfHwgW10pLmxlbmd0aDtcblx0XHRcdGNhc2UgV29yZENvdW50VHlwZS5BdXRvRGV0ZWN0OlxuXHRcdFx0XHRjb25zdCBjamtMZW5ndGggPSAoY29udGVudC5tYXRjaCh0aGlzLmNqa1JlZ2V4KSB8fCBbXSkubGVuZ3RoO1xuXHRcdFx0XHRjb25zdCBzcGFjZURlbGltaXRlZExlbmd0aCA9IChjb250ZW50Lm1hdGNoKC9bXlxcc10rL2cpIHx8IFtdKS5sZW5ndGg7XG5cdFx0XHRcdHJldHVybiBNYXRoLm1heChjamtMZW5ndGgsIHNwYWNlRGVsaW1pdGVkTGVuZ3RoKTtcblx0XHRcdGNhc2UgV29yZENvdW50VHlwZS5TcGFjZURlbGltaXRlZDpcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiAoY29udGVudC5tYXRjaCgvW15cXHNdKy9nKSB8fCBbXSkubGVuZ3RoO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgY291bnROb25XaGl0ZXNwYWNlQ2hhcmFjdGVycyhjb250ZW50OiBzdHJpbmcpOiBudW1iZXIge1xuXHRcdHJldHVybiAoY29udGVudC5yZXBsYWNlKC9cXHMrL2csIFwiXCIpIHx8IFtdKS5sZW5ndGg7XG5cdH1cblxuXHRwcml2YXRlIHNldENvdW50cyhjb3VudHM6IENvdW50c0J5RmlsZSwgZmlsZTogVEZpbGUsIGNvbnRlbnQ6IHN0cmluZywgd29yZENvdW50VHlwZTogV29yZENvdW50VHlwZSk6IHZvaWQge1xuXHRcdGNvbnN0IHdvcmRDb3VudCA9IHRoaXMuY291bnRXb3Jkcyhjb250ZW50LCB3b3JkQ291bnRUeXBlKTtcblx0XHRjb25zdCBub25XaGl0ZXNwYWNlQ2hhcmFjdGVyQ291bnQgPVxuXHRcdFx0dGhpcy5jb3VudE5vbldoaXRlc3BhY2VDaGFyYWN0ZXJzKGNvbnRlbnQpO1xuXG5cdFx0bGV0IHBhZ2VDb3VudCA9IDA7XG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MucGFnZUNvdW50VHlwZSA9PT0gUGFnZUNvdW50VHlwZS5CeVdvcmRzKSB7XG5cdFx0XHRjb25zdCB3b3Jkc1BlclBhZ2UgPSBOdW1iZXIodGhpcy5zZXR0aW5ncy53b3Jkc1BlclBhZ2UpO1xuXHRcdFx0Y29uc3Qgd29yZHNQZXJQYWdlVmFsaWQgPSAhaXNOYU4od29yZHNQZXJQYWdlKSAmJiB3b3Jkc1BlclBhZ2UgPiAwO1xuXHRcdFx0cGFnZUNvdW50ID0gd29yZENvdW50IC8gKHdvcmRzUGVyUGFnZVZhbGlkID8gd29yZHNQZXJQYWdlIDogMzAwKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MucGFnZUNvdW50VHlwZSA9PT0gUGFnZUNvdW50VHlwZS5CeUNoYXJzKSB7XG5cdFx0XHRjb25zdCBjaGFyc1BlclBhZ2UgPSBOdW1iZXIodGhpcy5zZXR0aW5ncy5jaGFyc1BlclBhZ2UpO1xuXHRcdFx0Y29uc3QgY2hhcnNQZXJQYWdlVmFsaWQgPSAhaXNOYU4oY2hhcnNQZXJQYWdlKSAmJiBjaGFyc1BlclBhZ2UgPiAwO1xuXHRcdFx0cGFnZUNvdW50ID1cblx0XHRcdFx0bm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50IC8gKGNoYXJzUGVyUGFnZVZhbGlkID8gY2hhcnNQZXJQYWdlIDogMTUwMCk7XG5cdFx0fVxuXG5cdFx0Y291bnRzW2ZpbGUucGF0aF0gPSB7XG5cdFx0XHRpc0RpcmVjdG9yeTogZmFsc2UsXG5cdFx0XHRub3RlQ291bnQ6IDEsXG5cdFx0XHR3b3JkQ291bnQsXG5cdFx0XHRwYWdlQ291bnQsXG5cdFx0XHRjaGFyYWN0ZXJDb3VudDogY29udGVudC5sZW5ndGgsXG5cdFx0XHRub25XaGl0ZXNwYWNlQ2hhcmFjdGVyQ291bnQsXG5cdFx0XHRjcmVhdGVkRGF0ZTogZmlsZS5zdGF0LmN0aW1lLFxuXHRcdFx0bW9kaWZpZWREYXRlOiBmaWxlLnN0YXQubXRpbWUsXG5cdFx0fTtcblx0fVxufVxuIiwgIlxuZXhwb3J0IGVudW0gQ291bnRUeXBlIHtcblx0Tm9uZSA9IFwibm9uZVwiLFxuXHRXb3JkID0gXCJ3b3JkXCIsXG5cdFBhZ2UgPSBcInBhZ2VcIixcblx0UGFnZURlY2ltYWwgPSBcInBhZ2VkZWNpbWFsXCIsXG5cdE5vdGUgPSBcIm5vdGVcIixcblx0Q2hhcmFjdGVyID0gXCJjaGFyYWN0ZXJcIixcblx0Q3JlYXRlZCA9IFwiY3JlYXRlZFwiLFxuXHRNb2RpZmllZCA9IFwibW9kaWZpZWRcIixcbn1cblxuZXhwb3J0IGNvbnN0IGNvdW50VHlwZURpc3BsYXlTdHJpbmdzOiB7IFtjb3VudFR5cGU6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuXHRbQ291bnRUeXBlLk5vbmVdOiBcIk5vbmVcIixcblx0W0NvdW50VHlwZS5Xb3JkXTogXCJXb3JkIENvdW50XCIsXG5cdFtDb3VudFR5cGUuUGFnZV06IFwiUGFnZSBDb3VudFwiLFxuXHRbQ291bnRUeXBlLlBhZ2VEZWNpbWFsXTogXCJQYWdlIENvdW50IChkZWNpbWFsKVwiLFxuXHRbQ291bnRUeXBlLk5vdGVdOiBcIk5vdGUgQ291bnRcIixcblx0W0NvdW50VHlwZS5DaGFyYWN0ZXJdOiBcIkNoYXJhY3RlciBDb3VudFwiLFxuXHRbQ291bnRUeXBlLkNyZWF0ZWRdOiBcIkNyZWF0ZWQgRGF0ZVwiLFxuXHRbQ291bnRUeXBlLk1vZGlmaWVkXTogXCJMYXN0IFVwZGF0ZWQgRGF0ZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGNvdW50VHlwZXMgPSBbXG5cdENvdW50VHlwZS5Ob25lLFxuXHRDb3VudFR5cGUuV29yZCxcblx0Q291bnRUeXBlLlBhZ2UsXG5cdENvdW50VHlwZS5QYWdlRGVjaW1hbCxcblx0Q291bnRUeXBlLk5vdGUsXG5cdENvdW50VHlwZS5DaGFyYWN0ZXIsXG5cdENvdW50VHlwZS5DcmVhdGVkLFxuXHRDb3VudFR5cGUuTW9kaWZpZWQsXG5dO1xuXG5leHBvcnQgZW51bSBBbGlnbm1lbnRUeXBlIHtcblx0SW5saW5lID0gXCJpbmxpbmVcIixcblx0UmlnaHQgPSBcInJpZ2h0XCIsXG5cdEJlbG93ID0gXCJiZWxvd1wiLFxufVxuXG5leHBvcnQgY29uc3QgYWxpZ25tZW50VHlwZXMgPSBbXG5cdEFsaWdubWVudFR5cGUuSW5saW5lLFxuXHRBbGlnbm1lbnRUeXBlLlJpZ2h0LFxuXHRBbGlnbm1lbnRUeXBlLkJlbG93LFxuXTtcblxuZXhwb3J0IGVudW0gV29yZENvdW50VHlwZSB7XG5cdFNwYWNlRGVsaW1pdGVkID0gXCJTcGFjZURlbGltaXRlZFwiLFxuXHRDSksgPSBcIkNKS1wiLFxuXHRBdXRvRGV0ZWN0ID0gXCJBdXRvRGV0ZWN0XCJcbn1cblxuZXhwb3J0IGVudW0gUGFnZUNvdW50VHlwZSB7XG4gIEJ5V29yZHMgPSAnQnlXb3JkcycsXG4gIEJ5Q2hhcnMgPSAnQnlDaGFycydcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3ZlbFdvcmRDb3VudFNldHRpbmdzIHtcblx0Y291bnRUeXBlOiBDb3VudFR5cGU7XG5cdGNvdW50VHlwZTI6IENvdW50VHlwZTtcblx0Y291bnRUeXBlMzogQ291bnRUeXBlO1xuXHRzaG93U2FtZUNvdW50c09uRm9sZGVyczogYm9vbGVhbjtcblx0Zm9sZGVyQ291bnRUeXBlOiBDb3VudFR5cGU7XG5cdGZvbGRlckNvdW50VHlwZTI6IENvdW50VHlwZTtcblx0Zm9sZGVyQ291bnRUeXBlMzogQ291bnRUeXBlO1xuXHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zOiBib29sZWFuO1xuXHRhbGlnbm1lbnQ6IEFsaWdubWVudFR5cGU7XG5cdGRlYnVnTW9kZTogYm9vbGVhbjtcblx0d29yZHNQZXJQYWdlOiBudW1iZXI7XG4gIGNoYXJzUGVyUGFnZTogbnVtYmVyO1xuXHR3b3JkQ291bnRUeXBlOiBXb3JkQ291bnRUeXBlO1xuICBwYWdlQ291bnRUeXBlOiBQYWdlQ291bnRUeXBlO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTm92ZWxXb3JkQ291bnRTZXR0aW5ncyA9IHtcblx0Y291bnRUeXBlOiBDb3VudFR5cGUuV29yZCxcblx0Y291bnRUeXBlMjogQ291bnRUeXBlLk5vbmUsXG5cdGNvdW50VHlwZTM6IENvdW50VHlwZS5Ob25lLFxuXHRzaG93U2FtZUNvdW50c09uRm9sZGVyczogdHJ1ZSxcblx0Zm9sZGVyQ291bnRUeXBlOiBDb3VudFR5cGUuV29yZCxcblx0Zm9sZGVyQ291bnRUeXBlMjogQ291bnRUeXBlLk5vbmUsXG5cdGZvbGRlckNvdW50VHlwZTM6IENvdW50VHlwZS5Ob25lLFxuXHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zOiBmYWxzZSxcblx0YWxpZ25tZW50OiBBbGlnbm1lbnRUeXBlLklubGluZSxcblx0ZGVidWdNb2RlOiBmYWxzZSxcblx0d29yZHNQZXJQYWdlOiAzMDAsXG4gIGNoYXJzUGVyUGFnZTogMTUwMCxcblx0d29yZENvdW50VHlwZTogV29yZENvdW50VHlwZS5TcGFjZURlbGltaXRlZCxcbiAgcGFnZUNvdW50VHlwZTogUGFnZUNvdW50VHlwZS5CeVdvcmRzXG59O1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7OztBQ0FPLHdCQUFrQjtBQUFBLEVBQWxCLGNBQVA7QUFDVSxxQkFBWTtBQUFBO0FBQUEsRUFFYixhQUFhLE9BQXNCO0FBQ3hDLFNBQUssWUFBWTtBQUFBO0FBQUEsRUFHWixTQUFTLE1BQW1CO0FBQ25DLFFBQUksQ0FBQyxLQUFLLFdBQVc7QUFDcEI7QUFBQTtBQUdELFlBQVEsSUFBSSxxQkFBcUIsR0FBRztBQUFBO0FBQUEsRUFHOUIsTUFBTSxTQUFvQjtBQUNoQyxRQUFJLENBQUMsS0FBSyxXQUFXO0FBQ3BCO0FBQUE7QUFHRCxZQUFRLE1BQU07QUFBQTtBQUFBLEVBR1IsV0FBVyxNQUEwQjtBQUMzQyxRQUFJLENBQUMsS0FBSyxXQUFXO0FBQ3BCLGFBQU8sTUFBTTtBQUFBO0FBQUE7QUFHZCxRQUFJLGdCQUFnQixvQkFBb0I7QUFDeEMsWUFBUSxLQUFLO0FBQ2Is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
